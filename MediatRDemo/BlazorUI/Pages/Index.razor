@page "/people"
@inject MediatR.IMediator _mediatR
@using DemoLibrary.DataAccess
@using DemoLibrary.Models
@using DemoLibrary.Queries

<h1>Hello, world!</h1>

<ul>
    @foreach(var p in people)
    {
        <li>@p.FirstName @p.LastName</li>
    }
</ul>

@code {
    List<PersonModel> people = new();

    protected override async Task OnInitializedAsync()
    {
        people = await _mediatR.Send(new GetPersonsQuery());
        //return Task.FromResult(people);
    }
}
